given a : *
type IO
data PutLine_ (str : #String ) IO
data GetLine_ (#String -> IO)
data Download_ (url : #String ) (dest : #String ) IO
data CreateFile_ (payload : #String ) (dest : #String ) IO
data TestFile_ (path : #String ) (#Bool -> IO)
data Pure_ (r : a)
fold foldIO
in

let (>>=) (a : *) (b : *) (m : IO a) (f : a -> IO b) : IO b =
    foldIO a
        m
        (IO b)
        (PutLine_ b)
        (GetLine_ b)
        (Download_ b)
        (CreateFile_ b)
        (TestFile_ b)
        (\(r : a) ->
            foldIO b (f r)
            (IO b)
            (PutLine_ b)
            (GetLine_ b)
            (Download_ b)
            (CreateFile_ b)
            (TestFile_ b)
            (Pure_ b)
        )

in (>>=)
