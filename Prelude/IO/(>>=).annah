given a : *

type IO

data GetLine_ (#String -> IO)
data PutLine_ #String IO
data Pure_ a

fold foldIO

in

let (>>=) (a : *) (b : *) (m : IO a) (f : a -> IO b) : IO b =
    foldIO
        a
        m
        (IO b)
        (GetLine_ b)
        (PutLine_ b)
        (\(r : a) ->
            foldIO
                b
                (f r)
                (IO b)
                (GetLine_ b)
                (PutLine_ b)
                (Pure_ b)
        )

in (>>=)
